<!DOCTYPE html>
<html><head>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><link href="https://fonts.googleapis.com/css?family=Amarante:regular|Comfortaa:700,300|Ubuntu+Mono:regular" rel="stylesheet" type="text/css">
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <link rel="icon" type="image/x-icon" href="https://gameplex-software.github.io/genesis-docs/favicon.ico">
  <meta charset="utf-8">
  <title>Genesis Docs</title>
  <meta name="generator" content="Google Web Designer 14.0.4.1108">
  <style type="text/css" id="gwd-text-style">p {
    margin: 0px;
}
h1 {
    margin: 0px;
}
h2 {
    margin: 0px;
}
h3 {
    margin: 0px;
}</style>
  <style type="text/css">html,
body {
    width: 100%;
    height: 100%;
    margin: 0px;
}
body {
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    -moz-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    perspective: 1400px;
    -webkit-perspective: 1400px;
    -moz-perspective: 1400px;
    transform-style: preserve-3d;
    -webkit-transform-style: preserve-3d;
    -moz-transform-style: preserve-3d;
    background: url("hero.jpg") center center / cover rgb(0, 0, 0);
    overflow: hidden;
}
.gwd-br-ragb {
    color: rgb(255, 255, 255);
    font-family: "Trebuchet MS";
    font-size: 20px;
}
.gwd-br-6fvy {
    color: rgb(255, 255, 255);
    font-family: "Trebuchet MS";
    font-size: 20px;
}
.gwd-br-jx5u {
    color: rgb(255, 255, 255);
    font-family: "Trebuchet MS";
    font-size: 20px;
}
.gwd-br-1o3r {
    color: rgb(255, 255, 255);
    font-family: "Trebuchet MS";
    font-size: 20px;
}
.gwd-br-bdtp {
    color: rgb(255, 255, 255);
    font-family: "Trebuchet MS";
    font-size: 20px;
}
.gwd-br-yd4a {
    color: rgb(255, 255, 255);
    font-family: "Trebuchet MS";
    font-size: 20px;
}
.gwd-br-4c7q {
    color: rgb(255, 255, 255);
    font-family: "Trebuchet MS";
    font-size: 20px;
}
.gwd-div-qhut {
    position: absolute;
    left: 0px;
    top: 0px;
    height: 50px;
    width: 100.02%;
    background-image: none;
    background-color: rgb(0, 0, 0);
}
.gwd-div-gvqb {
    position: absolute;
    left: 0px;
    background-image: none;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    height: 100%;
    width: 198.7px;
    top: 0px;
}
.gwd-div-zcj8 {
    position: absolute;
    top: 50px;
    width: 87.19%;
    height: 94.19%;
    overflow: hidden scroll;
    left: 203px;
}
.gwd-div-84l6 {
    position: absolute;
    left: 0px;
    width: 198.688px;
    height: 30px;
    top: 61px;
}
.gwd-span-stnq {
    position: absolute;
    text-align: center;
    transform-origin: 50% 50% 0px;
    -webkit-transform-origin: 50% 50% 0px;
    -moz-transform-origin: 50% 50% 0px;
    color: rgb(255, 255, 255);
    font-family: Comfortaa;
    font-size: 20px;
    font-weight: bold;
    left: 0%;
    top: 0%;
    width: 100.16%;
    height: 100%;
}
.gwd-div-1i2t {
    top: 91px;
    height: 50px;
}
.gwd-span-2mgv {
    font-weight: 300;
    font-size: 16px;
}
.gwd-div-1fx0 {
    top: 136px;
}
.gwd-div-f9dj {
    width: 170px;
    left: 9.56%;
}
.gwd-div-11wf {
    width: 180px;
    left: 4.53%;
    height: 30px;
    top: 106px;
}
.gwd-span-1yw4 {
    text-align: left;
}
.gwd-span-1txc {
    text-align: left;
}
.gwd-div-xtbd {
    position: absolute;
    background-image: none;
    background-color: rgba(0, 0, 0, 0);
    width: 75%;
    height: 1000px;
    left: 1.29%;
    top: 11px;
}
.gwd-span-14r0 {
    color: rgb(255, 255, 255);
    display: block;
    font-size: 20px;
    font-weight: 700;
    position: absolute;
    text-align: left;
    width: 92.31%;
    background-image: none;
    margin: 0px;
    border-radius: 25px;
    padding: 50px 30px 30px;
    background-color: rgba(0, 0, 0, 0.8);
    height: auto;
    left: 0.71%;
    top: 25px;
    font-family: Comfortaa;
}
.gwd-span-pjmu {
    color: rgb(255, 255, 255);
    font-family: Comfortaa;
    font-size: 20px;
    font-weight: 700;
    text-align: left;
}
.gwd-br-t7fa {
    color: rgb(255, 255, 255);
    font-family: Comfortaa;
    font-size: 20px;
    font-weight: 700;
    text-align: left;
}
.gwd-div-acrh {
    color: rgb(255, 255, 255);
    font-family: Comfortaa;
    font-size: 20px;
    font-weight: 700;
    text-align: left;
}
.gwd-br-1sap {
    color: rgb(255, 255, 255);
    font-family: Comfortaa;
    font-size: 20px;
    font-weight: 700;
    text-align: left;
}
.gwd-div-1ufx {
    color: rgb(255, 255, 255);
    font-family: Comfortaa;
    font-size: 20px;
    font-weight: 700;
    text-align: left;
    left: 30px;
    top: 277px;
}
.gwd-div-vb8h {
    color: rgb(255, 255, 255);
    font-family: Comfortaa;
    font-size: 20px;
    font-weight: 700;
    text-align: left;
}
.gwd-br-16pa {
    color: rgb(255, 255, 255);
    font-family: Comfortaa;
    font-size: 20px;
    font-weight: 700;
    text-align: left;
}
.gwd-div-15ja {
    color: rgb(255, 255, 255);
    font-family: Comfortaa;
    font-size: 20px;
    font-weight: 700;
    text-align: left;
    left: 31px;
    top: 771px;
}
.gwd-div-r573 {
    color: rgb(255, 255, 255);
    font-family: Comfortaa;
    font-size: 20px;
    font-weight: 700;
    text-align: left;
}
.gwd-br-bbs6 {
    color: rgb(255, 255, 255);
    font-family: Comfortaa;
    font-size: 20px;
    font-weight: 700;
    text-align: left;
}
.gwd-div-1lna {
    color: rgb(255, 255, 255);
    font-family: Comfortaa;
    font-size: 20px;
    font-weight: 700;
    text-align: left;
    left: 31px;
    top: 794px;
}
.gwd-div-1h8j {
    color: rgb(255, 255, 255);
    font-family: Comfortaa;
    font-size: 20px;
    font-weight: 700;
    text-align: left;
}
.gwd-br-x3c2 {
    color: rgb(255, 255, 255);
    font-family: Comfortaa;
    font-size: 20px;
    font-weight: 700;
    text-align: left;
}
.gwd-div-1hxc {
    color: rgb(255, 255, 255);
    font-family: Comfortaa;
    font-size: 20px;
    font-weight: 700;
    text-align: left;
    left: 31px;
    top: 1085px;
}
.gwd-div-xyk9 {
    left: 31px;
    top: 413px;
}
@keyframes animatetop {
    0% {
        top: -300px;
        opacity: 0;
    }
    100% {
        top: 0px;
        opacity: 1;
    }
}
@-webkit-keyframes animatetop {
    0% {
        top: -300px;
        opacity: 0;
    }
    100% {
        top: 0px;
        opacity: 1;
    }
}
@-moz-keyframes animatetop {
    0% {
        top: -300px;
        opacity: 0;
    }
    100% {
        top: 0px;
        opacity: 1;
    }
}
@keyframes animatetop {
    0% {
        top: -300px;
        opacity: 0;
    }
    100% {
        top: 0px;
        opacity: 1;
    }
}
@-webkit-keyframes animatetop {
    0% {
        top: -300px;
        opacity: 0;
    }
    100% {
        top: 0px;
        opacity: 1;
    }
}
@-moz-keyframes animatetop {
    0% {
        top: -300px;
        opacity: 0;
    }
    100% {
        top: 0px;
        opacity: 1;
    }
}
.modal {
    display: none;
    position: fixed;
    z-index: 1;
    padding-top: 100px;
    left: 0px;
    top: 0px;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.4);
}
.modal-content {
    background-color: rgb(254, 254, 254);
    margin: auto;
    padding: 20px;
    border: 1px solid rgb(136, 136, 136);
    width: 80%;
    border-radius: 25px;
}
.close {
    color: rgb(170, 170, 170);
    float: right;
    font-size: 28px;
    font-weight: bold;
}
.close:hover,
.close:focus {
    color: rgb(0, 0, 0);
    text-decoration: none;
    cursor: pointer;
}
.code {
    color: rgb(255, 255, 0);
    font-family: monospace;
}
.gwd-code-ztr7 {
    font-weight: normal;
}
.gwd-span-zgg6 {
    font-size: 30px;
}
.gwd-span-p2rj {
    font-size: 30px;
}
.gwd-span-1ew1 {
    font-size: 30px;
}
.gwd-span-km3v {
    font-size: 30px;
}
.gwd-span-189h {
    font-size: 30px;
}
.gwd-span-11bw {
    font-size: 30px;
}
.gwd-span-hufj {
    font-size: 30px;
}
.gwd-span-13bj {
    font-size: 30px;
}
.gwd-span-fnm9 {
    font-size: 30px;
}
.gwd-div-bao4 {
    font-size: 45px;
}
.gwd-div-x9hn {
    left: 31px;
    top: 413px;
}
.gwd-div-x3g5 {
    font-size: 30px;
}
.gwd-span-x950 {
    font-size: 30px;
}
.gwd-span-seht {
    font-style: italic;
}
.gwd-span-o5kz {
    font-size: 30px;
}
.gwd-span-18un {
    font-size: 20px;
}
.gwd-span-1wr8 {
    font-size: 25px;
}
.gwd-span-523h {
    font-style: italic;
}
.gwd-span-b1y7 {
    font-size: xx-large;
}
.gwd-span-q025 {
    font-size: 25px;
}
.gwd-span-2o26 {
    font-size: 25px;
}
.gwd-span-18pm {
    font-size: 25px;
}
.gwd-span-i35k {
    font-size: 25px;
}
.gwd-span-17rr {
    color: rgb(255, 255, 0);
}
.gwd-code-doar {
    color: rgb(255, 255, 0);
}
.gwd-code-12t3 {
    color: rgb(255, 255, 0);
}
.gwd-code-urb5 {
    color: rgb(255, 255, 0);
}
.gwd-span-qmfl {
    color: rgb(255, 255, 0);
}
.gwd-span-1wm3 {
    color: rgb(255, 255, 0);
}
.gwd-span-xlz3 {
    color: rgb(255, 255, 0);
}
.gwd-span-1hbp {
    font-style: italic;
}
.gwd-span-6dvq {
    font-size: 35px;
}
.gwd-span-1tko {
    font-size: 25px;
}
.gwd-div-4ek8 {
    font-size: 20px;
}
.gwd-div-iurl {
    font-style: italic;
}</style>
  <script>
    $(document).ready(function() {
      $("#headerloader").load("../header.html");
      $("#footerloader").load("../footer.html");
    });
  </script>
<style type="text/css">#pagedeck { overflow: hidden !important; }</style></head>

<body class="htmlNoPages">
  <div class="gwd-div-zcj8">
    <div class="gwd-div-xtbd">
      <span class="gwd-span-14r0"><div class="gwd-div-bao4">Genesis Kit Migration Processes</div><br><div class="gwd-div-xyk9 gwd-div-x9hn"><br></div><div class="gwd-div-xyk9 gwd-div-x9hn gwd-div-x3g5">Introduction</div><div class="gwd-div-xyk9 gwd-div-x9hn"><br>Migration Processes are specific, technical notes, authored by the Genesis Core Team and Genesis Kit Authors, to provide information on performing data and configuration migrations from one version of a kit to another.</div><div class="gwd-div-xyk9 gwd-div-x9hn"><br></div><div class="gwd-div-xyk9 gwd-div-x9hn">These processes are not easily automated, and are best served via documentation. In some cases, these processes are required to properly migrate without data loss. Sometimes they are merely advisory.</div><div class="gwd-div-xyk9 gwd-div-x9hn"><br></div><div class="gwd-div-xyk9 gwd-div-x9hn">Each migration process is given a unique identification, indicating which Genesis Kit it applies to. Migration Process numbers will not be intentionally reused. Indeed, they are intended to be used in reference documentation (like Github release notes).<br><br></div><div class="gwd-div-xyk9 gwd-div-x9hn"><br><span class="gwd-span-x950">Genesis/All Kits<br><br></span></div>
    <div class="gwd-div-xyk9 gwd-div-x9hn"><br>
      
      <span class="gwd-span-2o26">GMP-GEN-0001 - Environment File <span class="gwd-span-17rr">genesis</span> Block Required in v2.7.x<br>
      
      </span>
      <hr><br>
       Though introduced in v2.6.x, the <span class="gwd-span-qmfl">genesis</span> block in the environment files is now the primary source of all things not kit related, and will be required in a future 2.7.x release. For now, continued use of
      <span class="gwd-span-1wm3">params</span>-based values that have been moved to the <span class="gwd-span-xlz3">genesis</span> block will ellicit a warning.</div>
    <div class="gwd-div-xyk9 gwd-div-x9hn"><br>
      
    </div>
    <div class="gwd-div-xyk9 gwd-div-x9hn">Note: Not ALL values are being moved out of the params block, just specific values.<br>
      <br>
      <br>
       Read the full <span class="gwd-span-seht">details in GMP-GEN-0001 - Environment File genesis Block Required</span><br>
      <br>
      
      <span class="gwd-span-o5kz">BOSH</span><br>
      <br>
      
      <span class="gwd-span-18un">The following migration processes apply to the Genesis BOSH Kit, for deploying a BOSH director.</span></div>
    <div class="gwd-div-xyk9 gwd-div-x9hn"><br>
      <br>
      
      <span class="gwd-span-1wr8">GMP-BOSH-0001 - BPM Release Collision</span><br>
      
      <hr><br>
       If the BOSH director deploying this BOSH already has bpm 0.12.3 on it, you may run into a collision as this kit attempts to change it to a precompiled release. In that case, the release needs to be manually uploaded.<br>
      <br>
       Read the full <span class="gwd-span-523h">details of GMP-BOSH-0001 - BPM Release Collision.</span><br>
      <br>
      <br>
      
      <span class="gwd-span-b1y7">Cloud Foundry
    </span></div>
    <div class="gwd-div-xyk9 gwd-div-x9hn"><br>
       The following migration processes apply to the Genesis CF Kit, for deploying Open Source Cloud Foundry instances.<br>
      <br>
      <br>
      
      <span class="gwd-span-q025">GMP-CF-0003 - TLS Certificate Refactor in v1.8.0<br></span></div>
    <hr><br>
     Cloud Foundry Genesis Kit v1.8.0 refactors the TLS certificates generated by the kit that are used internally to closely approximate those used by cf-deployment v12.5.0. This remaps the CA signing certificate as well as the CN and SANs used by the certificates. As such, the existing certificates need to be rotated.<br>
    <br>
     &nbsp; &nbsp; &nbsp;<em>Simplified process updated for Genesis v2.7.7+<br><br></em><span class="gwd-span-18pm">GMP-CF-0002 - Optionally Removing Consul in 1.3</span>
    <hr><br>
     Operators who wish to remove Consul after updating to Genesis CF Kit v1.3 may do so with this Genesis Migration Process. It is completely optional, and does not alter future upgrade paths.<br>
    <br>
    
    <em>Read the full details of GMP-CF-0002 - Optionally Removing Consul in 1.3.<br><br><br></em><span class="gwd-span-i35k">GMP-CF-0001 - Database Scheme Fix Migration</span>
    <hr><br>
     We recently discovered an issue affecting versions 1.1.0, 1.1.1 and 1.1.2 of the Genesis CF Kit. Locket and Diego were incorrectly configured to place their tables in the <code class="gwd-code-doar">postgres</code> database, instead of their dedicated
    <code class="gwd-code-12t3">locketdb</code> and <code class="gwd-code-urb5">diegodb</code> databases.<br>
    <br>
     While this does not affect day-to-day normal operation of Cloud Foundry, we still see this an issue that needs to be corrected as soon as possible.
    <div><br>
      
    </div>
    <div>This process must be completed in order to update to version 1.2.0 or newer if your Cloud Foundry environments were deployed with, or updated to the following versions:<br>
      <br>
      <br>
       Genesis CF Kit v1.1.0</div>
    <div>Genesis CF Kit v1.1.1</div>
    <div>Genesis CF Kit v1.1.2<br>
      <br>
      <br>
      
      <span class="gwd-span-1hbp">Read the full details of GMP-CF-0001 - Database Scheme Fix Migration.</span><br>
      <br>
      <br>
      
      <span class="gwd-span-6dvq">Concourse</span><br>
      <br>
      
      <span class="gwd-span-1tko">GMP-CONCOURSE-0001 - Concourse 4 Upgrade</span>
      <hr>
    </div>
    <div class="gwd-div-4ek8"><br>
       Concourse 4 makes some changes to the way auth works, and certain configurations can cause your upgrade/migration to fail.
    </div>
    <div class="gwd-div-4ek8"><br>
      
    </div>
    <div class="gwd-div-4ek8 gwd-div-iurl"><br>
       Read the full details of GMP-CONCOURSE-0001 - Concourse 4 Upgrade.</div>
    </span>
  </div>
  </div>
  <div class="gwd-div-gvqb">
    <div class="gwd-div-84l6"><span class="gwd-span-stnq">Table of contents</span></div>
    <div class="gwd-div-84l6 gwd-div-1i2t gwd-div-11wf"><span class="gwd-span-stnq gwd-span-2mgv gwd-span-1yw4">About Genesis</span></div>
    <div class="gwd-div-84l6 gwd-div-1i2t gwd-div-1fx0 gwd-div-f9dj"><span class="gwd-span-stnq gwd-span-2mgv gwd-span-1txc">Use cases for Genesis</span></div>
  </div>
  <div class="gwd-div-qhut" id="headerloader">
  </div>


</body></html>
