<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,target-densitydpi=device-dpi">
<meta name="generator" content="verse">
<meta name="X-UA-Compatible" content="IE=edge">


<title>Genesis</title>


<link rel="icon" href="/favicon.ico">
<link rel="stylesheet" href="/css/libs.css?6">
<link rel="stylesheet" href="/css/main.css?6">
<link rel="stylesheet" href="/css/extra.css?6">
<link rel="alternate home" type="application/rss+xml" title="Genesis - RSS feed" href="/feed.xml">
</head>
<body class="dark-load">
	<header id="top-nav" class="top-nav page-header">
		<div class="container">
			<a class="logo smooth-scroll" href="/">
				<img class="logo-white" alt="Stark & Wayne" src="/img/logo.png?6" />
			</a>
			<nav class="top-menu">
				<ul class="sf-menu">
					<li><a href="/">Home</a></li>
            <!--<li><a href="/blog">Blog</a></li>-->
					<li><a href="/download">Download</a></li>
					<li><a href="/community">Community</a></li>
					<li><a href="/docs/getting-started">Docs</a></li>
          <!--<li><a href="/dev">Developers</a></li>-->
				</ul>
			</nav>
			<div id="mobile-menu">
				<div class="inner-wrap">
					<nav>
						<ul class="nav_menu">
							<li><a href="/">Home</a></li>
							<li><a href="/download">Download</a></li>
							<li><a href="/docs">Documentation</a></li>
              <!--<li><a href="/dev">Developers</a></li>-->
						</ul>
					</nav>
				</div>
			</div>
		</div>
	</header>

	<section id="top" class="display-page img-parallax bg-mask background-image"
         data-image="/img/hbg.jpg">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h1>Genesis Kit Migration Processes</h1>
      </div>
    </div>
  </div>
</section>


<section class="page"><div id="container" class="container">
    <div class="row">
      <div class="col-md-3 toc">
        
      </div>
      <div class="col-md-8 col-md-push-1">
        <div class="content">
          <h1>Introduction</h1>

<p><em>Migration Processes</em> are specific, technical notes, authored by the Genesis
Core Team and Genesis Kit Authors, to provide information on performing data
and configuration migrations from one version of a kit to another.</p>

<p>These processes are not easily automated, and are best served via
documentation.  In some cases, these processes are required to properly
migrate without data loss.  Sometimes they are merely advisory.</p>

<p>Each migration process is given a unique identification, indicating which
Genesis Kit it applies to.  Migration Process numbers will not be
intentionally reused.  Indeed, they are intended to be used in reference
documentation (like Github release notes).</p>

<h1>BOSH</h1>

<p>The following migration processes apply to the Genesis BOSH Kit, for
deploying a BOSH director.</p>

<h2>GMP-BOSH-0001 - BPM Release Collision</h2>

<p>If the BOSH director deploying this BOSH already has bpm 0.12.3 on it, you
may run into a collision as this kit attempts to change it to a precompiled
release. In that case, the release needs to be manually uploaded.</p>

<p>Read the <a href="/docs/migrations/gmp-bosh-0001">full details of <strong>GMP-BOSH-0001 - BPM Release Collision</strong></a>.</p>

<h1>Cloud Foundry</h1>

<p>The following migration processes apply to the Genesis CF Kit, for deploying
Open Source Cloud Foundry instances.</p>

<h2>GMP-CF-0002 - Optionally Removing Consul in 1.3</h2>

<p>Operators who wish to remove Consul after updating to Genesis CF Kit v1.3 may
do so with this Genesis Migration Process. It is completely optional, and does
not alter future upgrade paths.</p>

<p>Read the <a href="/docs/migrations/gmp-cf-0002">full details of <strong>GMP-CF-0002 - Optionally Removing Consul in 
               1.3</strong></a>.</p>

<h2>GMP-CF-0001 - Database Scheme Fix Migration</h2>

<p>We recently discovered an issue affecting versions 1.1.0, 1.1.1 and 1.1.2 of
the Genesis CF Kit.   Locket and Diego were incorrectly configured to place
their tables in the <code>postgres</code> database, instead of their dedicated
<code>locketdb</code> and <code>diegodb</code> databases.</p>

<p>While this does not affect day-to-day normal operation of Cloud Foundry, we
still see this an issue that needs to be corrected as soon as possible.</p>

<p style="color: red; font-weight: bold">This process must be completed in
order to update to version 1.2.0 or newer if your Cloud Foundry environments
were deployed with, or updated to the following versions:</p>

<ul>
<li><a href="https://github.com/genesis-community/cf-genesis-kit/releases/tag/v1.1.0">Genesis CF Kit v1.1.0</a></li>
<li><a href="https://github.com/genesis-community/cf-genesis-kit/releases/tag/v1.1.1">Genesis CF Kit v1.1.1</a></li>
<li><a href="https://github.com/genesis-community/cf-genesis-kit/releases/tag/v1.1.2">Genesis CF Kit v1.1.2</a></li>
</ul>

<p>Read the <a href="/docs/migrations/gmp-cf-0001">full details of <strong>GMP-CF-0001 - Database Scheme Fix
               Migration</strong></a>.</p>

<h1>Concourse</h1>

<h2>GMP-CONCOURSE-0001 - Concourse 4 Upgrade</h2>

<p>Concourse 4 makes some changes to the way auth works, and certain
configurations can cause your upgrade/migration to fail.</p>

<p>Read the <a href="/docs/migrations/gmp-concourse-0001">full details of <strong>GMP-CONCOURSE-0001 - Concourse 4 Upgrade</strong></a>.</p>
        </div>
      </div>
    </div>
  </div>
</section>

	<footer>
		<div class="container">
			<div class="row">
				<div class="col-md-4">
					<a class="logo" href="https://starkandwayne.com/">
						<img class="logo-white" alt="Stark & Wayne" src="/img/swlogo.png?6" />
						<p><strong>Genesis</strong> is funded and supported by <strong>Stark &amp; Wayne</strong>, the premier BOSH and Cloud Foundry consulting firm.<br>Stark &amp; Wayne: We Know Cloud.</p>
					</a>
				</div>

				<div class="col-md-4">
					<div class="links">
						<h5>Genesis</h5>
						<ul class="list">
							<li><a href="/download">Download Genesis</a></li>
							<li><a href="/docs/getting-started">Getting Started</a></li>
							<li><a href="/community">Community Support</a></li>
						</ul>
					</div>
				</div>

        <!--
				<div class="col-md-4">
					<div class="links">
						<h5>Reference</h5>
						<ul class="list">
							<li><a href="#">Genesis CLI</a></li>
							<li><a href="#">Pipelines</a></li>
							<li><a href="#">Genesis Kits</a></li>
						</ul>
					</div>
				</div>
        -->
			</div>
		</div>

		<div class="down-footer">
			<div class="container">
				<div class="row">
					<div class="col-md-12">
						<p>&copy; 2018 Stark &amp; Wayne.  All Rights Reserved.</p>
						<ul class="footer-menu"></ul>
					</div>
				</div>
			</div>
		</div>
	</footer>

	<!-- FIXME: these don't exist: -->
	<!--[if lt IE 9]>
		<script type="text/javascript" src="/libs/html5shiv/es5-shim.min.js"></script>
		<script type="text/javascript" src="/libs/html5shiv/html5shiv.min.js"></script>
		<script type="text/javascript" src="/libs/html5shiv/html5shiv-printshiv.min.js"></script>
		<script type="text/javascript" src="/libs/respond/respond.min.js"></script>
	<![endif]-->

	<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
	<script type="text/javascript" src="/js/libs.js?6"></script>
	<script type="text/javascript" src="/js/common.js?6"></script>
</body>
</html>
