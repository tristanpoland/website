<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,target-densitydpi=device-dpi">
<meta name="generator" content="verse">
<meta name="X-UA-Compatible" content="IE=edge">

<link rel="apple-touch-icon" sizes="57x57" href="/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
<link rel="manifest" href="/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">


<title>Genesis</title>


<link rel="stylesheet" href="/site.css?">
<link rel="alternate home" type="application/rss+xml" title="Genesis - RSS feed" href="/feed.xml">

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-50822525-8"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','UA-50822525-8');</script>
</head>
<body>
  <header class="top">
    <img src="/logo.png?">
    <nav>
      <li><a href="/">Home</a></li>
      <li><a href="/download/">Download</a></li>
      <li><a href="/community/">Community</a></li>
      <li><a href="/docs/">Docs</a></li>
    </nav>
  </header>

    <div class="header">
    <div>
      <h1>Download Genesis</h1>
      <h2>Get You Some Genesis</h2>
    </div>
  </div>

  <div class="content downloads">
    <div>
      <nav>
        <h2>Latest Stable</h2>
        <li><a href="#latest">Genesis v2.8.2</a></li>
        <h2>Historic Releases</h2>
        
        <li><a href="#v2.8.1">2.8.1</a></li>
        
        <li><a href="#v2.8.0">2.8.0</a></li>
        
        <li><a href="#v2.7.35">2.7.35</a></li>
        
        <li><a href="#v2.7.34">2.7.34</a></li>
        
        <li><a href="#v2.7.33">2.7.33</a></li>
        
        <li><a href="#v2.7.32">2.7.32</a></li>
        
        <li><a href="#v2.7.31">2.7.31</a></li>
        
      </nav>
    </div>

    <div id="v2.8.2">
      <h1 id="latest">Genesis v2.8.2</h1>
      
        <h2>Bug Fixes</h2>

<ul>
<li><p>Replaces error <code>Can't call method "execute" on an undefined value</code>
with more useful information on why BOSH director cannot be accessed.</p></li>
<li><p>Suppress repetitive deprecation messages for the environment when
processing various genesis commands.</p></li>
<li><p>The existing bosh wrapper function in Genesis::Helpers was not
compatible with the Genesis v2.8 internals regarding BOSH connectivity.
If the environment file exists, helpers will simply use <code>genesis bosh
...</code> calls to make it Just Workâ„¢.  For the rare situation where the
enviroment file doesn't exist, a much more complicated validation and
connectivity routine is employed.</p></li>
<li><p>When generating the BOSH director for an environment, and is using the
environment variables to determine the BOSH director configuration, make
sure to set the deployment name.</p></li>
</ul>

<h2>Kit Authoring Improvements</h2>

<ul>
<li><p>Added <code>version_check</code> bash function to check that the version of Genesis
meets or exceeds your hook's required version.  If you use this, make sure
your kit specifies <code>genesis_version_minimum</code> of 2.8.2.</p></li>
<li><p>Improvements to <code>genesis compile-kit</code> interface and functionality:</p>

<ul>
<li><p>Now creates a local rc release when no version is specified, for the
next patch level above the highest remote or local version found.</p></li>
<li><p>Can specify --target|-t to have the compiled kit placed in the
desired directory.  If the directory is a genesis repo, it will
place it under the directory's .genesis/kits path.</p></li>
<li><p>When using -v <version>, if that version already exists locally or
remotely, it will error out to prevent reissuing different contents
under the same version (--force can be used to overcome this
limitation).</p></li>
<li><p>When not specifying the explicit version, you can bump the major or
minor version instead of the path by using --major|-M or --minor|-m
options.  The --final option will create the next version without a
-rc# component.</p></li>
<li><p>Improved feedback while processing.</p></li>
</ul></li>
</ul>
        <a class="button" href="https://github.com/starkandwayne/genesis/releases/tag/v2.8.2" target="_blank">Download v2.8.2</a>
      

      
      <h1 id="v2.8.1">Genesis v2.8.1</h1>
      <h2>Bug Fixes</h2>

<ul>
<li><p>Genesis v2.8.0 reworked how Genesis interacted with BOSH, getting the
login information from exodus data.  However, when the exodus data is
not available, it lost its ability to specify the BOSH connectivity
via environment variables.  This has now been resolved.</p></li>
<li><p>Fixes error <code>Can't locate object method "from_envvars" via package
"Genesis::BOSH::Director"</code> when generating new genesis environment.</p></li>
<li><p>Fixes error when running <code>genesis bosh -h</code>, documents how to get help
for bosh commands instead of help for <code>genesis bosh</code></p></li>
</ul>
      <a class="button" href="https://github.com/starkandwayne/genesis/releases/tag/v2.8.1" target="_blank">Download v2.8.1 from Github</a>
      
      <h1 id="v2.8.0">Genesis v2.8.0</h1>
      <h2>New Features</h2>

<ul>
<li><p>Auto-connect to BOSH director.</p>

<p>Genesis can now automatically connect to the correct BOSH director for the
specified environment, without need to set up a bosh configuration or
manually logging into the director.</p>

<p>Caveat: The BOSH director that deployed your environment MUST have been
deployed by Genesis.  If not, you will still have to target and log into the
BOSH director manually.</p></li>
<li><p>Added <code>genesis bosh</code> command.</p>

<p>Instead of worrying about logging into the right BOSH director, and
translating genesis environment into BOSH environment and deployment, let
Genesis do the heavy lifting.</p>

<p>If you want to know something about your concourse vms, for example, you
just run <code>genesis bosh my-concourse-env vms --vitals</code> and you'll get the
right output.  Genesis will determine which bosh director deployed
<code>my-concourse-env</code>, how to connect to it, what the BOSH deployment is named,
and return the results of the command you specified.</p>

<p>By default, the <code>genesis bosh</code> command is deployment centric, but sometimes
you need to talk to the BOSH director itself.  In that case, you can specify
the BOSH deployment itself, and use the <code>-as-director</code> (or <code>-A</code>) option to
indicate that the environment is the director, not a deployment on a
different director.  For proto-BOSH environments, this is required.</p>

<p>See <code>genesis bosh -h</code> for more usage details.</p></li>
<li><p>Connect to BOSH director without using the BOSH deployment kit.</p>

<p>If you still need to connect to a BOSH director directly, you can configure
your shell by using <code>eval "$(genesis bosh my-target-env --connect)"</code>.
Please note that this connects to the BOSH director that deployed the
<code>my-target-env</code>.  If <code>my-target-env</code> is a bosh deployment, the command will
authenticate to the BOSH director that deployed it, not itself.  In this
case, you need to use the <code>--as-director</code> option to explicitly state that
this is the BOSH environment you wish to connect to.</p></li>
</ul>

<h2>Breaking Changes</h2>

<ul>
<li><p>Removes legacy support for kits without new or blueprint.</p>

<p>As of v2.8.0, kits must use new and blueprint hooks.  All modern kits
support this model, so anyone actively keeping current with genesis would
not be impacted.</p></li>
<li><p>Remove subkits, error if used in env file.</p>

<p>Subkits have been deprecated since at least 2.6.13, so its time to remove
them.</p></li>
<li><p>Remove <code>--environment</code> global option.</p>

<p>The environment option has been replaced with <code>--bosh-env</code> option to remove
confusion regarding the overloaded 'environment' name.  Henceforth,
environment refers to just the deployment environment.  The <code>-e</code> shortform
is still usable.</p></li>
</ul>

<h2>Improvements</h2>

<h3>Better Support for using BOSH create-env</h3>

<ul>
<li><p>Starting in v2.8.0, kits that indicate that they are compatible with
v2.8.0 can support <code>use_create_env</code> as their method of indicating
their ability to use create-env instead of deploy for deployments.</p>

<ul>
<li><p>Valid values are <code>yes</code> for this kit always uses create-env, <code>no</code> for
kits that cannot use create-env, and <code>allow</code> for kits that permit
either.</p></li>
<li><p>The kit will have to detect <code>genesis.use_create_env</code> in the
environment to determine blueprint and other create-env kit
behaviour.  Genesis will manage the actual deployment and state file
associated with it.</p></li>
</ul></li>
<li><p>Genesis properly handles both legacy features (create-env,bosh-init,
proto) and v2.8.0's <code>genesis.use_create_env</code> attribute to determine is
create-env is to be used.  It will also detect when an incompatible
mixture of using create-env and specifying a <code>genesis.bosh-env</code>
attribute, and fail with an appropriate error message.  A quick update
of the environment file by the user will resolve this issue when
encountered.</p>

<ul>
<li>Provide create-env (i.e.: bosh proto) deployments with diff/confirm</li>
</ul>

<p>Since BOSH does not provide a confirmation after a diff on the
environment to be deployed, Genesis provides this based on a previous
deployment, assuming it was added to the repo.</p>

<p>If the exodus data from the previous deployment doesn't match the local
archived manifest, a warning will be stated, or in the case of running
under <code>-y</code>, the deploy will be aborted.</p>

<p>This does require that you ensure you commit your repo after doing 
deployments, which you should be doing regardless of this feature, as
a method to record your deployment history. </p></li>
</ul>
<h3>Kit Overrides by Environment</h3>



150750f8c54d845785f421ddb3b535c6



<p>```</p>

<p>And in an inheritting file:</p>

<p>```
kit:
overrides:</p>

<ul>
<li>(( append ))</li>
<li>second:
stuff: overwritten</li>
<li>|
even_more: true
```</li>
</ul></li>
</ul></li>
</ul>

<h3>Improved Kit Behaviour</h3>

<ul>
<li><p>Improve params handling for use in <code>new</code> hook.</p>

<ul>
<li><p>Support multiline values in keys and arrays in <code>param_entry</code>.</p></li>
<li><p>Echo <code>param_comment</code> to screen so the same information that prefaces the
value in the env.yml file can be used as an explanatory blurb prior to the
prompt.</p></li>
</ul></li>
<li><p>Improve decompile-kit</p>

<ul>
<li><p>Can decompile kit to directories other than ./dev (<code>--directory &lt;dir&gt;</code>)</p></li>
<li><p>Can specify an environment YAML file to identify which kit to decompile,
instead of explicitly stating the kit/version.</p></li>
</ul></li>
</ul>

<h3>Better BOSH Config Management</h3>

<ul>
<li><p>Support downloading multiple configs.</p>

<p>Before, if you specified to download a config type (ie cloud or runtime)
without a name, it would download only the unnamed <em>default</em> config of that
type.  Experience has shown that the more correct interpretation should be
to download all configs of that type, and merge them (in the order they are
specified in the BOSH director).  The old behaviour can still be used by
explicitly stating <code>default</code> as the name.</p></li>
</ul>

<h3>Messaging / Error Handling / Debugging</h3>

<ul>
<li><p>Added stderr output capture for <code>Genesis::Vault#get</code>.</p>

<p>Rather than have the raw safe stderr leak out to the user, we now capture it
and write it to the DEBUG stream.</p></li>
<li><p>Improve deploy help output for create-env environments</p>

<p>There are difference behaviours for create-env environment than from
environments deployed via a BOSH director.  This update calls them out
and gives instructions on their use.</p></li>
<li><p>Improved error message when kit.features is incorrectly formed in environment YAML files.</p></li>
<li><p>Better diagnosis messages when running PING in debug mode.</p></li>
</ul>

<h2>Bug Fixes</h2>

<ul>
<li><p>Kits can now specify required prerequisites via hook.</p>

<p>Although the prereqs hook was documented, it was only partially
implemented.  This commit completes that implementation, so that if
<code>hooks/prereqs</code> exists in a kit, it will be run prior to usage.</p></li>
<li><p>Fix bug where default config type was lost when fetching configs from BOSH
director, resulting in bad messages and error reports.</p></li>
<li><p>Export <code>GENESIS_EXODUS_MOUNT</code> to hooks environment.  This was missing from the
set of vault path environment variables available to hook scripts.</p></li>
</ul>

<h2>Internal Changes/Improvements</h2>

<h3>BOSH Refactor</h3>

<ul>
<li><p>Add <code>Genesis::BOSH</code> for controlling BOSH director.</p>

<p>This is a major refactor to facilitate better operation and connections
to BOSH directors.  Connections to Bosh will use exodus data to
determine the corresponding BOSH director address and connection
details.</p></li>
<li><p>Set <code>GENESIS_BOSH_COMMAND</code> when checking BOSH cmd</p>

<p>Also removes <code>check_bosh_version</code> subroutine that was replaced by
<code>Genesis::BOSH#command</code></p></li>
<li><p>Change <code>needs_bosh_create_env</code> to <code>use_create_env</code></p></li>
</ul>

<h3>Functionality Improvement</h3>

<ul>
<li><p>Allow <code>Genesis::Kit#metadata</code> to take args.</p>

<p>If Genesis::Kit#metadata receives no arguments, it will return a hash
reference for all metadata for the kit.  If it gets a single value, it
returns the metadata corresponding to the key of that value.  Finally,
if it gets a list of values, it will return a list of the metadata
corresponding to the keys of the given values.</p></li>
</ul>

<h3>Efficiencies</h3>

<ul>
<li><p>Lazy-load kit provider types as needed.</p>

<p>By using <code>require</code> instead of <code>use</code> for loading the
<code>Genesis::Kit::Provider::*</code> classes, they are loaded as needed during
runtime instead of fully loaded at compile-time.</p></li>
<li><p>Memoize <code>Genesis::Env</code> <code>params</code> and <code>actual_environment_files</code>.</p></li>
</ul>

<h3>Structure / Maintainability</h3>

<ul>
<li><p>Reordered <code>lib/Genesis/Env.pm</code>, with folding and grouping.</p>

<p>This is done to be consistent with the other lib files.  No actual code
changed in this release, but the diff is massive because blocks were
moved into logical groupings.</p></li>
<li><p>Privatized <code>Genesis::Env#validate_name</code>.</p>

<p><code>validate_name</code> method should only be used internally, so it was renamed
<code>_validate_env_name</code>.</p></li>
<li><p>Fixes inconsistant private variable naming.</p>

<ul>
<li><code>_configs</code> has been changed to <code>__configs</code> in <code>Genesis::Env</code>, to match all
other private instance variables.</li>
</ul></li>
</ul>
      <a class="button" href="https://github.com/starkandwayne/genesis/releases/tag/v2.8.0" target="_blank">Download v2.8.0 from Github</a>
      
      <h1 id="v2.7.35">Genesis v2.7.35</h1>
      <h2>Bug Fix</h2>

<ul>
<li><p>Update Genesis bosh activities to work with BOSH cli v6.4.4</p>

<p>As of BOSH cli 6.4.4, BOSH_* variables set to "" cause errors, so now they are simply unset.</p></li>
</ul>
      <a class="button" href="https://github.com/starkandwayne/genesis/releases/tag/v2.7.35" target="_blank">Download v2.7.35 from Github</a>
      
      <h1 id="v2.7.34">Genesis v2.7.34</h1>
      <h2>Improvements</h2>

<ul>
<li><code>genesis init</code> can now accept a local compiled kit file as an argument to the <code>-k</code> option, allowing locally compiled (or stored) released kit files instead of relying on the local uncompiled <code>dev</code> directory.</li>
</ul>

<h2>Requirement Updates</h2>

<ul>
<li>BOSH CLI v6.4.4 is now required due to error when accessing non-bosh.io stemcells that are now being specified by upstream deployments.</li>
</ul>

<h2>Bug Fixes</h2>

<ul>
<li><code>genesis kit-manual</code> now works on dev kits, or environments that use dev
kits</li>
</ul>
      <a class="button" href="https://github.com/starkandwayne/genesis/releases/tag/v2.7.34" target="_blank">Download v2.7.34 from Github</a>
      
      <h1 id="v2.7.33">Genesis v2.7.33</h1>
      <h2>New Feature</h2>

<ul>
<li><p>Add <code>update</code> genesis command to get new version</p>

<p>Usage: genesis update [-c|--check] [-v|--version VERSION] [-d|--details] [-f|--force]</p>

<p>-c, --check       Check if a newer version (or the specified version) is
                  available.</p>

<p>-v, --version <x> Install the specified version instead of the latest</p>

<p>-d, --details     Print the release notes of the versions between the current
                  version and the latest (or the release notes of the
                  specified version)</p>

<p>-f, --force       Replace the current genesis executable.  Otherwise,
                  confirmation will be requested.</p></li>
</ul>

<h2>Improvements</h2>

<ul>
<li><p>Improve <code>genesis kit-provider -v</code> status output</p></li>
<li><p>Improve <code>genesis list-kits</code> hint to include -r flag.</p></li>
<li><p>Make it easier to trace the stack</p>

<p>Adds the -S|--show-stack debug option, and gives better context of traces
and errors.</p>

<p>Behaviour Changes:</p>

<ul>
<li><p>internal <code>trace</code> output will show the location in the code were it was
called. If --show-stack option specified, it will show the full stack
instead of just the location.</p></li>
<li><p>internal <code>dump_vars</code> output will now show the full stack instead of
just the calling location if --show-stack specified (along with
--trace or --debug)</p></li>
<li><p>internal <code>bail</code> will show calling location if --trace or --debug is
specified, or the full stack if --show-stack is specified (with or
without --debug or --trace).  This allows you to see where genesis
terminates without wading through all the trace output.</p></li>
<li><p>internal <code>bug</code> will always full stack where the bug was encountered.
This allows the user to paste the stack into a defect report against
the genesis project.</p></li>
</ul></li>
<li><p>Limited false positives of detected changes in pipeline notify summaries. </p></li>
</ul>

<h2>Bug Fixes</h2>

<ul>
<li><p>Fix getting non-production github release version</p>

<p>If user specified version by name, it should include draft and
prereleases when looking for it.  This was the initial intent, but the
wrong options were set when attempting it.</p></li>
<li><p>Fix error when calling <code>genesis man</code> on a kit that does not exist.</p></li>
<li><p>Fixes issue where proto-bosh deployment did not have up to date state file.</p></li>
</ul>
      <a class="button" href="https://github.com/starkandwayne/genesis/releases/tag/v2.7.32" target="_blank">Download v2.7.33 from Github</a>
      
      <h1 id="v2.7.32">Genesis v2.7.32</h1>
      <h2>Updates</h2>

<ul>
<li>credhub-cli is now a requirement. A check for credhub-cli has been added 
jq v1.6 is now the minimum version required. </li>
</ul>
      <a class="button" href="https://github.com/starkandwayne/genesis/releases/tag/v2.7.32" target="_blank">Download v2.7.32 from Github</a>
      
      <h1 id="v2.7.31">Genesis v2.7.31</h1>
      <h2>Updates</h2>

<p>-Can now update subject, SAN, and usage of vault-stored certificates without generating a new key with genesis rotate-secrets --renew
 This allows users to correct warnings that show up in the check during deployment without breaking mutual TLS.
 (Note this will also renew the TTL for the certificates)</p>
      <a class="button" href="https://github.com/starkandwayne/genesis/releases/tag/v2.7.31" target="_blank">Download v2.7.31 from Github</a>
      

    </div>
  </div>

  <footer>
    <div class="g">
      <div class="x3">
        <img src="/swlogo.png?">

        <p>Genesis is maintained by Stark &amp; Wayne,
        a leading Cloud-Native consulting firm.</p>
      </div>

      <div class="x3">
        <nav>
          <li><a href="/">Home</a></li>
          <li><a href="/download/">Download</a></li>
          <li><a href="/community/">Community</a></li>
          <li><a href="/docs/">Docs</a></li>
        </nav>
      </div>

      <div class="x3">
      </div>
    </div>

    <div class="copyright">
      <p>Copyright &copy; 2021 The Genesis Authors.  All rights reserved.</p>
    </div>
  </footer>
  <script type="text/javascript" src="/site.js?"></script>
</body>
</html>
